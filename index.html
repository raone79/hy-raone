<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Rivaan Interiors | Red Luxe Edition</title>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;1,400&family=Manrope:wght@200;300;400;600&display=swap" rel="stylesheet">

    <!-- GSAP Animation Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <!-- GESTURE CONTROL LIBRARIES (MediaPipe) -->
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>

    <!-- Main CSS -->
    <style>
        /* --- 1. CORE VARIABLES & RESET --- */
        :root {
            --text-main: #e0e0e0;
            --text-muted: #b0a0a0;
            --gold: #d4af37;
            --gold-light: #fcf6ba;
            --glass-bg: rgba(30, 0, 0, 0.4); 
            --glass-bg-hover: rgba(50, 0, 0, 0.6);
            --glass-border: rgba(255, 0, 0, 0.15);
            --whatsapp-green: #25D366;
            --whatsapp-dark: #128C7E;
            --error: #ff4444;
            --success: #00C851;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        @media (min-width: 1025px) {
            ::-webkit-scrollbar { width: 8px; }
            ::-webkit-scrollbar-track { background: rgba(20,0,0,0.5); }
            ::-webkit-scrollbar-thumb { background: #500; border-radius: 4px; }
            ::-webkit-scrollbar-thumb:hover { background: #ff0000; }
        }

        html, body {
            overflow: hidden; 
            background-color: transparent; 
            color: var(--text-main);
            font-family: 'Manrope', sans-serif;
            -webkit-font-smoothing: antialiased;
            height: 100%;
            width: 100%;
        }

        body {
            cursor: none; 
            opacity: 0; 
            visibility: hidden;
        }

        h1, h2, h3, h4, h5 { font-family: 'Playfair Display', serif; font-weight: 400; }
        /* GLOBAL IMG RESET - Specific override for logo below */
        img { width: 100%; height: 100%; display: block; object-fit: cover; }
        a { text-decoration: none; color: inherit; cursor: none; }
        button { cursor: none; }

        #canvas1 {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
            background: #800703; /* CHANGED BACKGROUND COLOR HERE */
        }

        /* --- 2. CUSTOM CURSOR --- */
        .cursor-dot, .cursor-outline {
            position: fixed; top: 0; left: 0; transform: translate(-50%, -50%);
            border-radius: 50%; z-index: 9999; pointer-events: none;
        }
        .cursor-dot { width: 6px; height: 6px; background: var(--gold); }
        .cursor-outline {
            width: 40px; height: 40px; border: 1px solid rgba(212, 175, 55, 0.4);
            transition: width 0.3s, height 0.3s, background-color 0.3s;
        }
        body.hovering .cursor-outline {
            width: 70px; height: 70px; background: rgba(212, 175, 55, 0.1);
            border-color: var(--gold); mix-blend-mode: screen;
        }
        body.hovering .cursor-dot { opacity: 0; }

        /* --- 3. PRELOADER --- */
        .preloader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #800703; /* Updated preloader to match new bg */
            z-index: 10000; display: flex;
            justify-content: center; align-items: center; flex-direction: column; visibility: visible;
        }
        .loader-text {
            font-family: 'Playfair Display'; font-size: 2rem; color: var(--gold); letter-spacing: 5px;
        }
        .loader-line { width: 0%; height: 2px; background: var(--gold); margin-top: 15px; }

        /* --- 4. HEADER --- */
        header {
            position: fixed; width: 100%; padding: 10px 50px; 
            display: flex; justify-content: space-between; align-items: center; z-index: 100;
            background: linear-gradient(to bottom, rgba(30,0,0,0.9), transparent);
        }

        /* --- LOGO STYLES --- */
        .logo { 
            display: block;
            height: 70px; /* Logo container height */
            width: auto;
            z-index: 102;
            cursor: pointer;
        }
        .logo img {
            width: auto !important;
            height: 100% !important;
            object-fit: contain !important;
            mix-blend-mode: screen; 
            filter: brightness(1.1); 
        }

        .nav-link { 
            margin-left: 40px; font-size: 0.8rem; text-transform: uppercase; 
            letter-spacing: 2px; position: relative; color: #fff; font-weight: 600;
            opacity: 0.8; transition: 0.3s;
        }
        .nav-link:hover, .nav-link.active { color: var(--gold); opacity: 1; }
        .nav-link.active::after {
            content: ''; position: absolute; bottom: -5px; left: 0; width: 100%; height: 1px; background: var(--gold);
        }

        .user-auth-btn {
            margin-left: 40px; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 2px;
            color: var(--gold); border: 1px solid var(--gold); padding: 8px 20px;
            transition: 0.3s; cursor: pointer; display: flex; align-items: center; gap: 10px;
            background: rgba(50,0,0,0.3);
        }
        .user-auth-btn:hover { background: var(--gold); color: #000; }

        .mobile-menu-toggle { display: none; flex-direction: column; gap: 6px; cursor: pointer; z-index: 102; }
        .bar { width: 30px; height: 2px; background: #fff; transition: 0.3s; }

        .mobile-menu-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(20, 0, 0, 0.95); z-index: 101;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none; transition: 0.5s ease;
        }
        .mobile-menu-overlay.open { opacity: 1; pointer-events: all; }
        .mobile-link {
            font-family: 'Playfair Display'; font-size: 2.5rem; color: #fff;
            margin: 15px 0; opacity: 0; transform: translateY(20px); transition: 0.4s;
        }
        .mobile-menu-overlay.open .mobile-link { opacity: 1; transform: translateY(0); }

        /* --- 5. MAIN TAB SYSTEM --- */
        main { position: relative; width: 100vw; height: 100vh; }

        .tab-section {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            overflow-y: auto; -webkit-overflow-scrolling: touch; padding-top: 0; 
            opacity: 0; visibility: hidden; pointer-events: none;
            background-color: transparent; outline: none;
        }

        .tab-section.active-tab { opacity: 1; visibility: visible; pointer-events: all; z-index: 5; }
        .tab-content-pad { padding-top: 120px; padding-bottom: 0px; }
        .container { width: 85%; max-width: 1400px; margin: 0 auto; position: relative; z-index: 2; }

        /* --- GLOBAL GOLD TEXT --- */
        .gold-anim-text, .hero-title, .teaser-title, .section-title, .footer-big-title, 
        .service-title, .p-title, .about-text h3, .stat-item h3, .f-col h5, .estimated-price {
            background: linear-gradient(to right, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c);
            background-size: 200% auto; color: transparent;
            -webkit-background-clip: text; background-clip: text; animation: shine 4s linear infinite;
        }

        @keyframes shine { to { background-position: 200% center; } }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% {transform: translateY(0);} 40% {transform: translateY(-10px);} 60% {transform: translateY(-5px);} }

        /* --- 6. HOME & NEW HEADING --- */
        .hero-screen {
            height: 100vh; width: 100%; position: relative;
            display: flex; align-items: center; overflow: hidden;
        }
        .hero-bg {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: transparent; z-index: 0;
        }
        .hero-content { padding-left: 5vw; z-index: 2; position: relative; }

        /* NEW TAGLINE CSS */
        .hero-tagline {
            display: flex; align-items: center; gap: 15px; margin-bottom: 25px;
            opacity: 0; transform: translateY(20px); /* Hidden initially */
        }
        .hero-tagline .line { width: 40px; height: 1px; background-color: var(--gold); display: block; }
        .hero-tagline .text {
            font-family: 'Manrope', sans-serif; color: var(--gold); font-size: 0.9rem;
            letter-spacing: 4px; text-transform: uppercase; font-weight: 600;
            text-shadow: 0 0 10px rgba(212, 175, 55, 0.3);
        }

        .hero-title { font-size: 6.5vw; line-height: 1.1; }
        .hero-title span { display: block; transform: translateY(100%); opacity: 0; }
        .hero-sub {
            font-size: 1.3rem; margin: 30px 0 50px; max-width: 550px;
            color: #ddd; opacity: 0; transform: translateY(20px); font-weight: 200;
        }

        .scroll-indicator {
            position:absolute; bottom:30px; left:5vw; color:#aaa; font-size:0.8rem; letter-spacing:2px; animation: bounce 2s infinite;
        }

        /* Sections */
        .teaser-section { padding: 100px 0; border-bottom: 1px solid var(--glass-border); }
        .teaser-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 60px; align-items: center; }

        .img-reveal-wrap { height: 400px; width: 100%; overflow: hidden; position: relative; }
        .teaser-img, .about-img-wrap img, .p-img, .service-bg img {
            width: 100%; height: 100%; object-fit: cover; transition: filter 0.5s ease;
            filter: grayscale(100%); transform: scale(1.2); will-change: transform;
        }

        /* Frames & Shine */
        .img-reveal-wrap::before, .about-img-wrap::before, .service-card::before, .project-item::before, .furn-visual::before {
            content: ''; position: absolute; top: 20px; left: 20px; right: 20px; bottom: 20px;
            border: 1px solid rgba(212, 175, 55, 0.3); z-index: 5; transition: all 0.6s cubic-bezier(0.215, 0.610, 0.355, 1); pointer-events: none;
        }
        .img-reveal-wrap:hover::before, .about-img-wrap:hover::before, .service-card:hover::before, .project-item:hover::before, .furn-visual:hover::before {
            top: 0; left: 0; right: 0; bottom: 0; border-color: var(--gold); border-width: 2px;
            box-shadow: inset 0 0 20px rgba(212, 175, 55, 0.1), 0 0 15px rgba(212, 175, 55, 0.3);
        }

        .teaser-section:hover .teaser-img { filter: grayscale(0%); }
        .teaser-title { font-size: 2.5rem; margin-bottom: 20px; }
        .teaser-desc { color: var(--text-muted); margin-bottom: 30px; line-height: 1.7; font-size: 1.1rem; }

        /* Buttons */
        .btn {
            padding: 16px 45px; border: 1px solid var(--gold); color: var(--gold);
            text-transform: uppercase; letter-spacing: 2px; font-size: 0.85rem;
            position: relative; overflow: hidden; transition: 0.4s; display: inline-block;
            font-weight: 600; width: fit-content; background: rgba(30, 0, 0, 0.4); backdrop-filter: blur(2px);
        }
        .btn::before {
            content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
            background: linear-gradient(90deg, var(--gold), var(--gold-light)); transition: 0.5s ease-in-out; z-index: -1;
        }
        .btn:hover { color: #000; border-color: var(--gold-light); box-shadow: 0 0 20px rgba(212, 175, 55, 0.4); }
        .btn:hover::before { left: 0; }

        .btn-whatsapp { border-color: var(--whatsapp-green); color: var(--whatsapp-green); }
        .btn-whatsapp::before { background: linear-gradient(90deg, var(--whatsapp-green), var(--whatsapp-dark)); }
        .btn-whatsapp:hover { color: #fff; border-color: var(--whatsapp-green); box-shadow: 0 0 20px rgba(37, 211, 102, 0.4); }

        .phone-link { display: block; color: #aaa; margin-bottom: 8px; transition: 0.3s; position: relative; width: fit-content; }
        .phone-link:hover { color: var(--gold); padding-left: 10px; }

        /* STUDIO */
        .section-header { margin-bottom: 60px; }
        .section-subtitle { color: var(--gold); letter-spacing: 3px; font-size: 0.8rem; text-transform: uppercase; display: block; margin-bottom: 15px; }
        .section-title { font-size: 3.5rem; line-height: 1.2; }
        .about-grid { display: grid; grid-template-columns: 1.2fr 1fr; gap: 80px; align-items: start; margin-bottom: 100px; }
        .about-text p { font-size: 1.1rem; color: var(--text-muted); line-height: 1.8; margin-bottom: 30px; }
        .about-text h3 { font-size: 1.8rem; margin-bottom: 20px; margin-top: 40px; }
        .about-img-wrap { width: 100%; height: 600px; overflow: hidden; position: relative; }
        .about-img-wrap img { transition: transform 1s; filter: grayscale(20%); transform: scale(1.2); }
        .about-img-wrap:hover img { filter: grayscale(0%); }
        .stats-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 40px; border-top: 1px solid var(--glass-border); padding-top: 50px; }
        .stat-item h3 { font-size: 3rem; margin-bottom: 5px; } 
        .stat-item p { color: #888; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px; }

        /* EXPERTISE */
        .dna-list { display: flex; gap: 50px; margin-bottom: 60px; border-bottom: 1px solid var(--glass-border); padding-bottom: 30px; flex-wrap: wrap; }
        .dna-item { color: var(--text-muted); font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px; }
        .dna-item span { color: var(--gold); margin-right: 10px; }
        .services-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 30px; padding-bottom: 80px; }
        .service-card { 
            position: relative; height: 400px; overflow: hidden; 
            border: 1px solid var(--glass-border); display: block; transition: 0.3s; 
            background: var(--glass-bg);
        }
        /* Increased brightness from 0.3 to 0.6 */
        .service-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; filter: brightness(0.6) grayscale(100%); transition: 0.6s; transform: scale(1.2); }
        .service-content { 
            position: relative; z-index: 7; height: 100%; padding: 40px; 
            display: flex; flex-direction: column; justify-content: flex-end; 
            background: linear-gradient(to top, rgba(20,0,0,0.8), transparent); 
        }
        .service-card:hover .service-bg { filter: brightness(0.8) grayscale(0%); }
        .service-card:hover { border-color: transparent; }
        .service-title { font-size: 2rem; margin-bottom: 10px; transform: translateY(10px); transition: 0.4s; } 
        .service-desc { color: #ccc; font-size: 1rem; opacity: 0.8; transform: translateY(10px); transition: 0.4s; line-height: 1.6; }
        .service-card:hover .service-title { transform: translateY(0); }
        .service-card:hover .service-desc { transform: translateY(0); opacity: 1; }

        /* PORTFOLIO */
        .project-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px; padding-bottom: 100px; }
        .project-item { 
            position: relative; height: 450px; overflow: hidden; 
            display: block; border-bottom: 3px solid transparent; 
            transition: 0.3s; background: var(--glass-bg); 
        }
        .p-img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.8s ease; transform: scale(1.2); }
        .project-item:hover .p-img { filter: grayscale(0%); }
        .project-item:hover { border-bottom-color: transparent; }
        .p-info { position: absolute; bottom: 0; left: 0; width: 100%; padding: 30px; background: linear-gradient(to top, rgba(30,0,0,0.9), transparent); transform: translateY(20px); opacity: 0; transition: 0.4s; z-index: 7; }
        .project-item:hover .p-info { transform: translateY(0); opacity: 1; }
        .p-title { font-size: 1.4rem; margin-bottom: 5px; } 
        .p-loc { font-size: 0.8rem; color: var(--gold); text-transform: uppercase; letter-spacing: 2px; }

        /* CALCULATORS */
        .calc-wrapper { 
            max-width: 800px; margin: 0 auto; padding-bottom: 100px; 
            background: var(--glass-bg); padding: 40px; 
            border: 1px solid var(--glass-border); backdrop-filter: blur(5px);
        }
        .calc-label { font-size: 1.2rem; color: var(--gold); margin-bottom: 20px; display: block; font-family: 'Playfair Display'; }
        .calc-grid-options { display: flex; gap: 15px; flex-wrap: wrap; margin-bottom: 40px; }
        .calc-option {
            padding: 15px 30px; border: 1px solid rgba(255,255,255,0.1); cursor: pointer; color: #bbb;
            transition: 0.3s; text-transform: uppercase; letter-spacing: 1px; font-size: 0.85rem;
            background: rgba(40, 0, 0, 0.3);
        }
        .calc-option:hover { border-color: var(--gold); color: #fff; background: var(--glass-bg-hover); }
        .calc-option.selected { background: var(--gold); color: #000; border-color: var(--gold); font-weight: 600; }
        .price-reveal { 
            display: none; text-align: center; border: 1px solid var(--gold); padding: 40px; margin-top: 30px;
            background: linear-gradient(45deg, rgba(212,175,55,0.1), rgba(20,0,0,0.5));
        }
        .estimated-price { font-size: 3rem; color: var(--gold); font-family: 'Playfair Display'; margin: 20px 0; }

        /* FURNITURE */
        .furniture-layout { display: grid; grid-template-columns: 1fr 1fr; gap: 60px; align-items: start; margin-bottom: 100px; }
        .furn-visual {
            position: sticky; top: 120px; height: 500px; width: 100%;
            border: 1px solid var(--glass-border); overflow: hidden; background: var(--glass-bg);
        }
        .furn-visual img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s ease-in-out; transform: scale(1.2); }
        .furn-controls { padding-top: 20px; padding: 20px; background: var(--glass-bg); border: 1px solid var(--glass-border); }

        /* AUTH */
        .auth-container { display: flex; justify-content: center; align-items: center; min-height: 80vh; }
        .auth-card {
            width: 100%; max-width: 450px; background: rgba(30, 0, 0, 0.5); 
            border: 1px solid var(--gold); padding: 40px;
            box-shadow: 0 0 40px rgba(50, 0, 0, 0.2); position: relative; overflow: hidden; backdrop-filter: blur(8px);
        }
        .auth-title { font-size: 2rem; color: var(--gold); margin-bottom: 10px; text-align: center; }
        .auth-sub { text-align: center; color: #ccc; margin-bottom: 20px; font-size: 0.9rem; }
        .form-group { margin-bottom: 20px; position: relative; }
        .form-input { 
            width: 100%; padding: 15px; background: rgba(0,0,0,0.2); 
            border: 1px solid rgba(255,255,255,0.1); 
            color: #fff; font-family: 'Manrope'; font-size: 0.95rem; outline: none; transition: 0.3s;
        }
        .form-input:focus { border-color: var(--gold); background: rgba(0,0,0,0.4); }
        .error-msg, .success-msg { font-size: 0.8rem; margin-top: 5px; display: none; text-align: center; }
        .error-msg { color: var(--error); } .success-msg { color: var(--success); }
        .auth-switch { text-align: center; margin-top: 20px; font-size: 0.9rem; color: #bbb; }
        .auth-switch span { color: var(--gold); cursor: pointer; text-decoration: underline; }
        .hidden-form { display: none; }

        /* FOOTER */
        .shared-footer { 
            padding: 100px 0 50px; background: linear-gradient(to top, rgba(30,0,0,0.8), rgba(10,0,0,0.4)); 
            border-top: 1px solid var(--glass-border); text-align: center; 
        }
        .footer-big-title { font-size: 4vw; margin-bottom: 50px; line-height: 1.1; } 
        .footer-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 40px; max-width: 900px; margin: 0 auto 60px; text-align: left; }
        .f-col h5 { margin-bottom: 15px; letter-spacing: 2px; font-size: 0.85rem; } 
        .f-col p, .f-col a:not(.btn):not(.phone-link) { color: #999; font-size: 1rem; line-height: 1.6; display: block; transition: 0.3s; }
        .f-col a:not(.btn):not(.phone-link):hover { color: #fff; }
        .copyright { font-size: 0.8rem; color: #666; margin-top: 40px; }
        .contact-wrap { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 80vh; text-align: center; }

        /* GESTURE UI */
        #intro-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(30, 0, 0, 0.95); z-index: 11000;
            display: flex; justify-content: center; align-items: center; backdrop-filter: blur(10px);
        }
        .intro-content {
            background: rgba(0,0,0,0.7); border: 1px solid var(--gold);
            padding: 40px; text-align: center; max-width: 600px; width: 90%;
            box-shadow: 0 0 50px rgba(255, 0, 0, 0.1);
        }
        .intro-title { color: var(--gold); font-family: 'Playfair Display'; font-size: 2.2rem; margin-bottom: 10px; letter-spacing: 2px; }
        .gesture-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 30px 0; text-align: left; }
        .gesture-item { display: flex; align-items: center; gap: 15px; background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 4px; border: 1px solid rgba(255,0,0,0.2); }
        .gesture-icon { font-size: 1.8rem; min-width: 30px; text-align: center; }
        .gesture-text strong { display: block; color: var(--gold); font-size: 1rem; font-family: 'Playfair Display'; }
        .gesture-text span { font-size: 0.8rem; color: #888; text-transform: uppercase; letter-spacing: 1px; }
        .permission-text { font-size: 0.9rem; color: #bbb; line-height: 1.6; margin-bottom: 30px; border-left: 2px solid var(--gold); padding-left: 15px; text-align: left; }
        .webcam-container {
            position: fixed; bottom: 20px; right: 20px; width: 140px; height: 105px;
            border: 1px solid var(--gold); overflow: hidden;
            z-index: 9000; opacity: 0.8; box-shadow: 0 0 20px rgba(212, 175, 55, 0.2);
        }
        .webcam-container video { width: 100%; height: 100%; object-fit: cover; transform: scaleX(-1); }
        .gesture-status { position: absolute; bottom: 0; left: 0; width: 100%; background: rgba(0,0,0,0.8); color: var(--gold); font-size: 10px; text-align: center; padding: 4px; letter-spacing: 1px; text-transform: uppercase; }

        /* RESPONSIVE */
        @media (min-width: 769px) and (max-width: 1024px) {
            .container { width: 90%; }
            .hero-title { font-size: 8vw; }
            .about-grid { grid-template-columns: 1fr; gap: 40px; }
            .about-img-wrap { height: 450px; }
            .project-grid { grid-template-columns: repeat(2, 1fr); } 
            .stats-row { gap: 20px; }
            .furniture-layout { gap: 30px; }
        }
        @media (max-width: 768px) {
            body, a, button { cursor: auto; }
            .cursor-dot, .cursor-outline { display: none !important; }
            header { padding: 15px 20px; }
            .nav-link { display: none; } 
            .user-auth-btn { font-size: 0.7rem; padding: 5px 10px; margin-left: 10px; }
            .mobile-menu-toggle { display: flex; } 
            .hero-title { font-size: 12vw; }
            .hero-sub { font-size: 1rem; }
            
            /* Responsive Tagline */
            .hero-tagline .text { font-size: 0.75rem; letter-spacing: 2px; }
            .hero-tagline .line { width: 30px; }

            .section-title { font-size: 2.5rem; }
            .footer-big-title { font-size: 10vw; }
            .teaser-grid, .about-grid, .services-grid, .project-grid, .stats-row, .footer-grid, .furniture-layout { 
                grid-template-columns: 1fr; gap: 40px; 
            }
            .hero-bg { background-attachment: scroll; } 
            .teaser-section { padding: 60px 0; }
            .img-reveal-wrap { height: 250px; order: -1; }
            .about-img-wrap { height: 300px; }
            .service-card { height: 300px; }
            .project-item { height: 350px; }
            .auth-card { padding: 30px 20px; }
            .furn-visual { height: 300px; position: relative; top: 0; order: -1; }
            .footer-grid { text-align: center; }
            .f-col { margin-bottom: 20px; }
            .tab-content-pad { padding-top: 100px; }
            .webcam-container, #intro-modal { display: none !important; } 
            
            /* Adjust logo size for mobile */
            .logo { height: 45px; }
        }
    </style>

    <!-- Project View Specific Styles -->
    <style>
        /* Styles for the "New Page" (Project View) */
        .pv-header { margin-bottom: 40px; }
        .pv-hero {
            width: 100%; height: 60vh; position: relative; overflow: hidden; margin-bottom: 50px;
            border-bottom: 2px solid var(--gold);
        }
        .pv-hero img { width: 100%; height: 100%; object-fit: cover; animation: zoomIn 20s infinite alternate; }
        @keyframes zoomIn { from { transform: scale(1); } to { transform: scale(1.1); } }
        
        .pv-meta-grid {
            display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px;
            border-top: 1px solid var(--glass-border); border-bottom: 1px solid var(--glass-border);
            padding: 30px 0; margin-bottom: 40px;
        }
        .pv-meta-item h5 { font-family: 'Manrope'; font-size: 0.75rem; color: var(--gold); letter-spacing: 2px; margin-bottom: 5px; }
        .pv-meta-item p { color: #ddd; font-size: 1rem; }
        
        .pv-desc-container { max-width: 800px; margin: 0 auto 80px; text-align: left; }
        .pv-desc-text { font-size: 1.1rem; line-height: 1.8; color: #ccc; margin-bottom: 20px; }
        
        .pv-gallery { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 80px; }
        .pv-gallery-item { height: 400px; overflow: hidden; position: relative; border: 1px solid var(--glass-border); }
        .pv-gallery-item img { transition: 0.5s; filter: grayscale(50%); width: 100%; height: 100%; object-fit: cover; }
        .pv-gallery-item:hover img { transform: scale(1.05); filter: grayscale(0%); }

        @media(max-width: 768px) {
            .pv-hero { height: 40vh; }
            .pv-meta-grid { grid-template-columns: 1fr 1fr; gap: 30px; }
            .pv-gallery { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<!-- CANVAS FLUID BACKGROUND -->
<canvas id="canvas1"></canvas>

<!-- GESTURE INTRO POPUP -->
<div id="intro-modal">
    <div class="intro-content">
        <h2 class="intro-title">Gesture Control</h2>
        <div class="permission-text">Experience our spaces without touching the screen. Allow camera access to navigate.</div>
        <div class="gesture-grid">
            <div class="gesture-item">
                <div class="gesture-icon">‚òùÔ∏è</div>
                <div class="gesture-text"><strong>Index Up</strong><span>Scroll Up</span></div>
            </div>
            <div class="gesture-item">
                <div class="gesture-icon">‚úåÔ∏è</div>
                <div class="gesture-text"><strong>Two Up</strong><span>SCROLL DOWN</span></div>
            </div>
            <div class="gesture-item" style="grid-column: span 2; justify-content: center; border-color: var(--gold);">
                <div class="gesture-icon">üëç</div>
                <div class="gesture-text"><strong>Thumbs Up</strong><span>To Enter Site</span></div>
            </div>
        </div>
        <button class="btn" onclick="closeIntro()">Enter Manually</button>
    </div>
</div>

<!-- CUSTOM CURSOR -->
<div class="cursor-dot"></div>
<div class="cursor-outline"></div>

<!-- PRELOADER -->
<div class="preloader">
    <div class="loader-text">RIVAAN INTERIORS</div>
    <div class="loader-line"></div>
</div>

<!-- WEBCAM FEED -->
<div class="webcam-container">
    <video id="input_video" playsinline muted autoplay></video>
    <div class="gesture-status" id="gesture-text">System Active</div>
</div>

<!-- HEADER -->
<header>
    <a href="#" class="logo hover-target" onclick="switchTab('home')">
        <img src="images/logo.png" alt="Rivaan Interiors Logo">
    </a>
    
    <div style="display:flex; align-items:center;">
        <nav>
            <a href="#" class="nav-link hover-target" onclick="switchTab('about')">Studio</a>
            <a href="#" class="nav-link hover-target" onclick="switchTab('services')">Expertise</a>
            <a href="#" class="nav-link hover-target" onclick="switchTab('projects')">Portfolio</a>
            <a href="#" class="nav-link hover-target" onclick="switchTab('contact')">Contact</a>
        </nav>
        <div class="user-auth-btn hover-target" id="header-auth-btn" onclick="switchTab('auth')">LOGIN</div>
        <div class="mobile-menu-toggle" onclick="toggleMobileMenu()" style="margin-left: 20px;">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>
    </div>
</header>

<!-- MOBILE MENU -->
<div class="mobile-menu-overlay" id="mobileMenu">
    <a href="#" class="mobile-link" onclick="mobileLinkClick('home')">Home</a>
    <a href="#" class="mobile-link" onclick="mobileLinkClick('about')">Studio</a>
    <a href="#" class="mobile-link" onclick="mobileLinkClick('services')">Expertise</a>
    <a href="#" class="mobile-link" onclick="mobileLinkClick('projects')">Portfolio</a>
    <a href="#" class="mobile-link" onclick="mobileLinkClick('contact')">Contact</a>
    <a href="#" class="mobile-link" onclick="mobileLinkClick('auth')">Login / Join</a>
</div>

<main>
    <!-- === TAB 1: HOME === -->
    <section id="home" class="tab-section active-tab">
        <div class="hero-screen">
            <div class="hero-bg"></div>
            <div class="container hero-content">
                <h1 class="hero-title">
                    <span>Calm Luxury.</span>
                    <span>Future Living.</span>
                </h1>
                <h2 class="teaser-title">CALM LUXURY..</h2>
                <p class="hero-sub">Defining The Aesthetics Of Modern Mumbai. We Craft Bespoke Residential and Commercial Spaces That Blend High-End luxury with Functional Timelessness.</p>
                <button class="btn hover-target" onclick="switchTab('projects')">Explore Work</button>
                <div class="scroll-indicator"> &darr;</div>
            </div>
        </div>
        <div class="container teaser-section">
            <div class="teaser-grid">
                <div class="teaser-content">
                    <span class="section-subtitle">01 / THE STUDIO</span>
                    <h2 class="teaser-title">Design rooted in Soul.</h2>
                    <p class="teaser-desc">We move beyond trends. By combining architectural precision with an artistic selection of textures, we create environments that feel personal and profoundly sophisticated.</p>
                    <button class="btn hover-target" onclick="switchTab('about')">Read Philosophy</button>
                </div>
                <div class="img-reveal-wrap hover-target">
                    <img src="images/living room 4.jpeg" class="teaser-img" alt="Studio Teaser">
                </div>
            </div>
        </div>
        <div class="container teaser-section">
            <div class="teaser-grid">
                <div class="img-reveal-wrap hover-target">
                    <img src="images/kitchen 2.jpeg" class="teaser-img" alt="Services Teaser">
                </div>
                <div class="teaser-content">
                    <span class="section-subtitle">02 / EXPERTISE</span>
                    <h2 class="teaser-title">Regent Hill.</h2>
                    <p class="teaser-desc">From Luxury Residences in powai. Our turnkey solutions cover everything from concept to the final styling.</p>
                    <button class="btn hover-target" onclick="switchTab('services')">View Services</button>
                </div>
            </div>
        </div>
        <div class="container teaser-section" style="border-bottom: none;">
            <div class="teaser-grid">
                <div class="teaser-content">
                    <span class="section-subtitle">03 / FEATURED WORK</span>
                    <h2 class="teaser-title">Hiranandani Highland.</h2>
                    <p class="teaser-desc">A 3BHK in powai.</p>
                    <button class="btn hover-target" onclick="switchTab('projects')">View Portfolio</button>
                </div>
                <div class="img-reveal-wrap hover-target">
                    <img src="images/living room 1.jpg" class="teaser-img" alt="Project Teaser">
                </div>
            </div>
        </div>
        <div class="shared-footer">
            <div class="container">
                <h2 class="footer-big-title">Let's create something<br>timeless.</h2>
                <div class="footer-grid">
                    <div class="f-col"><h5>VISIT US</h5><p>Powai, Mumbai</p></div>
                    <div class="f-col">
                        <h5>CONTACT</h5>
                        <a href="tel:+919821313487" class="phone-link hover-target">+91 98213 13487</a>
                        <a href="tel:+919833503702" class="phone-link hover-target">+91 9833503702</a>
                        <a href="mailto:hello@rivaaninteriors.com" class="hover-target">hello@rivaaninteriors.com</a>
                    </div>
                    <div class="f-col"><h5>FOLLOW</h5><a href="https://www.instagram.com/rivaan.interiors/" target="_blank" class="hover-target">Instagram</a></div>
                </div>
                <a href="https://wa.me/919821313487" target="_blank" class="btn btn-whatsapp hover-target">Chat on WhatsApp</a>
                <p class="copyright">&copy; 2025 Rivaan Interiors.</p>
            </div>
        </div>
    </section>

    <!-- === TAB 2: STUDIO === -->
    <section id="about" class="tab-section">
        <div class="container tab-content-pad">
            <div class="section-header">
                <span class="section-subtitle">The Studio</span>
                <h2 class="section-title">Design rooted in <br>Mumbai's soul.</h2>
            </div>
            <div class="about-grid">
                <div class="about-text">
                    <h3>The Philosophy</h3>
                    <p>Rivaan Interiors is more than a design firm; it is a curation of lifestyle. Based in the heart of Mumbai, we understand the city's chaotic energy and the deep desire for a sanctuary. Our philosophy, <strong>"Calm Luxury,"</strong> focuses on creating spaces that decompress, inspire, and endure.</p>
                    <p>We move beyond trends. By combining architectural precision with an artistic selection of textures‚Äîmarble, velvet, brass, and wood‚Äîwe create environments that feel personal and profoundly sophisticated.</p>
                </div>
                <div class="about-img-wrap hover-target">
                    <img src="https://images.unsplash.com/photo-1600585154363-67eb9e2e2099?q=80&w=1200" alt="Design Materials">
                </div>
            </div>
            <div class="stats-row" style="margin-bottom: 80px;">
                <div class="stat-item"><h3>10+</h3><p>Years of Excellence</p></div>
                <div class="stat-item"><h3>50+</h3><p>Luxury Residences</p></div>
                <div class="stat-item"><h3>100%</h3><p>Bespoke Execution</p></div>
            </div>
        </div>
        <div class="shared-footer">
            <div class="container">
                <h2 class="footer-big-title">Ready to start?</h2>
                <div class="footer-grid">
                    <div class="f-col"><h5>VISIT US</h5><p>Powai, Mumbai</p></div>
                    <div class="f-col"><h5>CONTACT</h5><a href="tel:+919821313487" class="phone-link hover-target">+91 98213 13487</a></div>
                    <div class="f-col"><h5>SOCIAL</h5><a href="https://www.instagram.com/rivaan.interiors/" target="_blank">Instagram</a></div>
                </div>
                <a href="https://wa.me/919821313487" target="_blank" class="btn btn-whatsapp hover-target">Chat on WhatsApp</a>
                <p class="copyright">&copy; 2025 Rivaan Interiors.</p>
            </div>
        </div>
    </section>

    <!-- === TAB 3: EXPERTISE (SERVICES) === -->
    <section id="services" class="tab-section">
        <div class="container tab-content-pad">
            <div class="section-header">
                <span class="section-subtitle">What We Do</span>
                <h2 class="section-title">Comprehensive <br>Design Solutions.</h2>
            </div>
            <div class="dna-list">
                <div class="dna-item"><span>01</span> Space Planning</div>
                <div class="dna-item"><span>02</span> 3D Visualization</div>
                <div class="dna-item"><span>03</span> Material Sourcing</div>
                <div class="dna-item"><span>04</span> Project Management</div>
            </div>
            <div class="services-grid">
                <div class="service-card hover-target" onclick="switchTab('calculator')" style="cursor: pointer;">
                    <div class="service-bg"><img src="https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?q=80&w=800" alt="Residential"></div>
                    <div class="service-content">
                        <h3 class="service-title">Residential Interiors</h3>
                        <p class="service-desc">Get an Instant Quote. Click here to calculate pricing for your bespoke home interior.</p>
                    </div>
                </div>
                <div class="service-card hover-target">
                    <div class="service-bg"><img src="https://images.unsplash.com/photo-1497366811353-6870744d04b2?q=80&w=800" alt="Commercial"></div>
                    <div class="service-content"><h3 class="service-title">Commercial Spaces</h3><p class="service-desc">Strategic design for corporate HQs and boutique offices.</p></div>
                </div>
                <div class="service-card hover-target" onclick="switchTab('calculator')" style="cursor: pointer;">
                    <div class="service-bg"><img src="https://images.unsplash.com/photo-1503387762-592deb58ef4e?q=80&w=800" alt="Turnkey"></div>
                    <div class="service-content">
                        <h3 class="service-title">Turnkey Solutions</h3>
                        <p class="service-desc">End-to-end execution. Click to estimate the cost for a complete turnkey transformation.</p>
                    </div>
                </div>
                <div class="service-card hover-target" onclick="switchTab('furniture')" style="cursor: pointer;">
                    <div class="service-bg"><img src="https://images.unsplash.com/photo-1555041469-a586c61ea9bc?q=80&w=800" alt="Furniture"></div>
                    <div class="service-content">
                        <h3 class="service-title">Bespoke Furniture</h3>
                        <p class="service-desc">Custom Craftsmanship. Click to design your piece and get a price estimate.</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="shared-footer">
            <div class="container">
                <h2 class="footer-big-title">Build your vision.</h2>
                <div class="footer-grid">
                    <div class="f-col"><h5>VISIT US</h5><p>Powai, Mumbai</p></div>
                    <div class="f-col"><h5>CONTACT</h5><a href="tel:+919821313487" class="phone-link hover-target">+91 98213 13487</a></div>
                    <div class="f-col"><h5>SOCIAL</h5><a href="https://www.instagram.com/rivaan.interiors/" target="_blank">Instagram</a></div>
                </div>
                <a href="https://wa.me/919821313487" target="_blank" class="btn btn-whatsapp hover-target">Chat on WhatsApp</a>
                <p class="copyright">&copy; 2025 Rivaan Interiors.</p>
            </div>
        </div>
    </section>

    <!-- === TAB 3.5: HOME CALCULATOR === -->
    <section id="calculator" class="tab-section">
        <div class="container tab-content-pad">
            <div class="section-header">
                <button class="btn hover-target" onclick="switchTab('services')" style="padding: 10px 20px; font-size: 0.7rem; margin-bottom: 20px;">&larr; Back to Services</button>
                <span class="section-subtitle">Price Estimator</span>
                <h2 class="section-title">Design Your Estimate.</h2>
            </div>
            <div class="calc-wrapper">
                <span class="calc-label">1. Select Configuration</span>
                <div class="calc-grid-options" id="bhk-options">
                    <div class="calc-option hover-target" onclick="selectBHK(this, '1BHK')">1 BHK</div>
                    <div class="calc-option hover-target" onclick="selectBHK(this, '2BHK')">2 BHK</div>
                    <div class="calc-option hover-target" onclick="selectBHK(this, '3BHK')">3 BHK</div>
                    <div class="calc-option hover-target" onclick="selectBHK(this, '4BHK+')">4 BHK+</div>
                    <div class="calc-option hover-target" onclick="selectBHK(this, 'Villa')">Villa</div>
                </div>
                <span class="calc-label">2. Select Rooms to Design</span>
                <div class="calc-grid-options" id="room-options">
                    <div class="calc-option hover-target" onclick="toggleRoom(this)">Living Room</div>
                    <div class="calc-option hover-target" onclick="toggleRoom(this)">Master Bedroom</div>
                    <div class="calc-option hover-target" onclick="toggleRoom(this)">Kitchen</div>
                    <div class="calc-option hover-target" onclick="toggleRoom(this)">Guest Bedroom</div>
                    <div class="calc-option hover-target" onclick="toggleRoom(this)">Kids Room</div>
                    <div class="calc-option hover-target" onclick="toggleRoom(this)">Bathroom(s)</div>
                    <div class="calc-option hover-target" onclick="toggleRoom(this)">Balcony</div>
                </div>
                <div style="margin: 40px 0; border-top: 1px solid var(--glass-border); padding-top:20px;">
                    <p style="color:#666; font-size:0.9rem; margin-bottom:15px;">*You must be logged in to generate the final estimate.</p>
                    <button class="btn hover-target" onclick="calculatePrice()">Calculate Price</button>
                </div>
                <div id="price-result" class="price-reveal">
                    <p style="color:#999;">ESTIMATED PROJECT COST</p>
                    <h2 class="estimated-price" id="final-price">‚Çπ0</h2>
                    <p style="color:#666; font-size: 0.9rem;">*Approximate valuation. Final quote depends on material selection.</p>
                    <br>
                    <a href="https://wa.me/919821313487" target="_blank" class="btn btn-whatsapp hover-target">Get Exact Quote on WhatsApp</a>
                </div>
            </div>
        </div>
    </section>

    <!-- === TAB 3.6: FURNITURE CUSTOMIZER === -->
    <section id="furniture" class="tab-section">
        <div class="container tab-content-pad">
            <div class="section-header">
                <button class="btn hover-target" onclick="switchTab('services')" style="padding: 10px 20px; font-size: 0.7rem; margin-bottom: 20px;">&larr; Back to Services</button>
                <span class="section-subtitle">Furniture Customizer</span>
                <h2 class="section-title">Craft Your Piece.</h2>
            </div>
            <div class="furniture-layout">
                <div class="furn-visual hover-target">
                    <img id="furn-img-display" src="https://images.unsplash.com/photo-1555041469-a586c61ea9bc?q=80&w=1200" alt="Bespoke Furniture">
                    <div style="position:absolute; bottom:20px; left:20px; color:#fff; font-size:0.8rem; background:rgba(0,0,0,0.5); padding:5px 10px;">Design Preview</div>
                </div>
                <div class="furn-controls">
                    <span class="calc-label">1. Select Item Type</span>
                    <div class="calc-grid-options" id="furn-type-options">
                        <div class="calc-option hover-target" onclick="selectFurnitureType(this, 'sofa')">Luxury Sofa</div>
                        <div class="calc-option hover-target" onclick="selectFurnitureType(this, 'bed')">King Bed</div>
                        <div class="calc-option hover-target" onclick="selectFurnitureType(this, 'dining')">Dining Table</div>
                        <div class="calc-option hover-target" onclick="selectFurnitureType(this, 'console')">Console</div>
                        <div class="calc-option hover-target" onclick="selectFurnitureType(this, 'wardrobe')">Wardrobe</div>
                    </div>
                    <span class="calc-label">2. Select Material</span>
                    <div class="calc-grid-options" id="dynamic-furn-materials">
                        <div style="color:#888; font-size:0.9rem; padding:10px 0;">‚Üê Select an Item Type first</div>
                    </div>
                    <span class="calc-label">3. Select Finish Tier</span>
                    <div class="calc-grid-options" id="furn-tier-options">
                        <div class="calc-option hover-target" onclick="selectFurnitureTier(this, 'standard')">Standard</div>
                        <div class="calc-option hover-target" onclick="selectFurnitureTier(this, 'premium')">Premium</div>
                        <div class="calc-option hover-target" onclick="selectFurnitureTier(this, 'luxe')">Luxe</div>
                    </div>
                    <div style="margin: 40px 0; border-top: 1px solid var(--glass-border); padding-top:20px;">
                        <p style="color:#666; font-size:0.9rem; margin-bottom:15px;">*Login required for pricing.</p>
                        <button class="btn hover-target" onclick="calculateFurniturePrice()">Get Estimate</button>
                    </div>
                    <div id="furn-price-result" class="price-reveal">
                        <p style="color:#999;">ESTIMATED ITEM COST</p>
                        <h2 class="estimated-price" id="furn-final-price">‚Çπ0</h2>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- === TAB 4: PORTFOLIO GRID === -->
    <section id="projects" class="tab-section">
        <div class="container tab-content-pad">
            <div class="section-header">
                <span class="section-subtitle">Selected Works</span>
                <h2 class="section-title">Curated Spaces.</h2>
            </div>


            
            <div class="project-grid">
                <!-- Project 1 -->
                <div class="project-item hover-target" style="cursor: pointer;" 
                     onclick="openProjectPage('Hiranandani Highland', 'Powai, Mumbai', '2-BHK Residential', '2024', 'Nordic Luxury', 'A sanctuary of beige and cream, focused on maximizing natural light. This residence features custom white oak veneers and automated lighting systems designed for serenity. Every corner speaks of bespoke luxury tailored for a modern family.', 'images/living room 1.jpg')">
                    <img src="images/living room 1.jpg" class="p-img" alt="Hiranandani Highland">
                    <div class="p-info">
                        <h3 class="p-title">Hiranandani Highland</h3>
                        <span class="p-loc">Powai ‚Ä¢ 2-BHK Residential</span>
                    </div>
                </div>

                <!-- Project 2 -->
                <div class="project-item hover-target" style="cursor: pointer;"
                     onclick="openProjectPage('Castle Rock', 'Powai, Mumbai', '1-BHK Luxury Suite', '2023', 'Modern Minimalist', 'Compact luxury defined by smart modular furniture and fluted glass partitions to separate living and sleeping areas without blocking light. A testament to how small spaces can feel grand with the right design.', 'images/living room 3.jpg')">
                    <img src="images/living room 3.jpg" class="p-img" alt="Castle Rock">
                    <div class="p-info">
                        <h3 class="p-title">Castle Rock</h3>
                        <span class="p-loc">Powai ‚Ä¢ 1-BHK Suite</span>
                    </div>
                </div>

                <!-- Project 3 -->
                <div class="project-item hover-target" style="cursor: pointer;"
                     onclick="openProjectPage('Regent Hill Estates', 'Kensington SE, Mumbai', '2-BHK Family Home', '2024', 'Contemporary Art Deco', 'A bespoke dining experience featuring Italian marble flooring, handcrafted brass chandeliers, and warm walnut tones for family gatherings. This space was designed to be the heart of the home.', 'images/Dining table 2.jpeg')">
                    <img src="images/Dining table 2.jpeg" class="p-img" alt="Regent Hill">
                    <div class="p-info">
                        <h3 class="p-title">Regent Hill Estates</h3>
                        <span class="p-loc">Kensington ‚Ä¢ 2-BHK</span>
                    </div>
                </div>

                <!-- Project 4 -->
                <div class="project-item hover-target" style="cursor: pointer;"
                     onclick="openProjectPage('The Corporate Loft', 'Regent Hill, Commercial', 'Commercial Office', '2023', 'Industrial Chic', 'Commercial elegance designed for high productivity. Features acoustic wall paneling, ergonomic layouts, and a lounge area for informal meetings. Blending function with style.', 'images/living room 2.jpg')">
                    <img src="images/living room 2.jpg" class="p-img" alt="Office Lounge">
                    <div class="p-info">
                        <h3 class="p-title">The Corporate Loft</h3>
                        <span class="p-loc">Regent Hill ‚Ä¢ Commercial</span>
                    </div>
                </div>

                <!-- Project 5 -->
                <div class="project-item hover-target" style="cursor: pointer;"
                     onclick="openProjectPage('Ventura Heights', 'Bandra West', '2-BHK Penthouse', '2024', 'Avant Garde', 'Minimalist living area utilizing floating cabinetry to create a sense of vastness. The TV unit is a custom matte-finish slate masterpiece that acts as the focal point of the living room.', 'images/tv unit 1.jpeg')">
                    <img src="images/tv unit 1.jpeg" class="p-img" alt="Ventura">
                    <div class="p-info">
                        <h3 class="p-title">Ventura Heights</h3>
                        <span class="p-loc">Bandra ‚Ä¢ 2-BHK</span>
                    </div>
                </div>

                <!-- Project 6 -->
                <div class="project-item hover-target" style="cursor: pointer;"
                     onclick="openProjectPage('Birchwood Apartment', 'Juhu, Mumbai', '3-BHK Sea View', '2023', 'Dark Academia', 'A moody, sophisticated palette of charcoal and walnut for the ultimate evening lounge. Plush velvet upholstery meets dark wood finishes to create a cozy yet expansive atmosphere.', 'images/living room 4.jpeg')">
                    <img src="images/living room 4.jpeg" class="p-img" alt="Birchwood">
                    <div class="p-info">
                        <h3 class="p-title">Birchwood Apartment</h3>
                        <span class="p-loc">Juhu ‚Ä¢ 3-BHK</span>
                    </div>
                </div>

                <!-- Project 7 (NEW) -->
                <div class="project-item hover-target" style="cursor: pointer;"
                     onclick="openProjectPage('Oberoi Sky City', 'Borivali East', '4-BHK Luxury', '2024', 'Scandinavian', 'A light-filled haven high above the city suburbs. Clean lines, neutral tones, and functional beauty define this family home.', 'images/kitchen 2.jpeg')">
                    <img src="images/kitchen 2.jpeg" class="p-img" alt="Oberoi Sky City">
                    <div class="p-info">
                        <h3 class="p-title">Oberoi Sky City</h3>
                        <span class="p-loc">Borivali ‚Ä¢ 4-BHK</span>
                    </div>
                </div>

                <!-- Project 8 (NEW) -->
                <div class="project-item hover-target" style="cursor: pointer;"
                     onclick="openProjectPage('Lodha World One', 'Lower Parel', '3-BHK Residence', '2024', 'Classic Luxury', 'High-end luxury with Italian marble flooring and gold accents tailored for a premium lifestyle in South Mumbai.', 'images/living room 1.jpg')">
                    <img src="images/living room 1.jpg" class="p-img" alt="Lodha World One">
                    <div class="p-info">
                        <h3 class="p-title">Lodha World One</h3>
                        <span class="p-loc">Lower Parel ‚Ä¢ 3-BHK</span>
                    </div>
                </div>

                <!-- Project 9 (NEW) -->
                <div class="project-item hover-target" style="cursor: pointer;"
                     onclick="openProjectPage('Rustomjee Elements', 'Juhu', 'Sea View Villa', '2023', 'Modern Tropical', 'Combining modern aesthetics with tropical warmth. A perfect blend of indoor luxury and outdoor serenity.', 'images/living room 3.jpg')">
                    <img src="images/living room 3.jpg" class="p-img" alt="Rustomjee Elements">
                    <div class="p-info">
                        <h3 class="p-title">Rustomjee Elements</h3>
                        <span class="p-loc">Juhu ‚Ä¢ Villa</span>
                    </div>
                </div>
            </div>

        </div>
        <div class="shared-footer">
            <div class="container">
                <h2 class="footer-big-title">Your space next.</h2>
                <div class="footer-grid">
                    <div class="f-col"><h5>VISIT US</h5><p>Powai, Mumbai 400079</p></div>
                    <div class="f-col"><h5>CONTACT</h5><a href="tel:+919821313487" class="phone-link hover-target">+91 98213 13487</a></div>
                    <div class="f-col"><h5>SOCIAL</h5><a href="https://www.instagram.com/rivaan.interiors/" target="_blank">Instagram</a></div>
                </div>
                <a href="https://wa.me/919821313487" target="_blank" class="btn btn-whatsapp hover-target">Chat on WhatsApp</a>
                <p class="copyright">&copy; 2025 Rivaan Interiors.</p>
            </div>
        </div>
    </section>

    <!-- === NEW TAB: PROJECT DETAILS VIEW (Acts as a new page) === -->
    <section id="project-view" class="tab-section">
        <div class="container tab-content-pad">
            <button class="btn hover-target" onclick="switchTab('projects')" style="margin-bottom: 30px; font-size: 0.7rem; padding: 10px 20px;">&larr; Back to Portfolio</button>
            
            <div class="pv-header">
                <span class="section-subtitle" id="pv-sub">Residential</span>
                <h1 class="hero-title" style="font-size: 4rem;" id="pv-title">Project Name</h1>
            </div>

            <div class="pv-hero">
                <img id="pv-hero-img" src="" alt="Project Hero">
            </div>

            <div class="pv-meta-grid">
                <div class="pv-meta-item">
                    <h5>LOCATION</h5>
                    <p id="pv-loc">Mumbai</p>
                </div>
                <div class="pv-meta-item">
                    <h5>YEAR</h5>
                    <p id="pv-year">2024</p>
                </div>
                <div class="pv-meta-item">
                    <h5>TYPE</h5>
                    <p id="pv-type">Residential</p>
                </div>
                <div class="pv-meta-item">
                    <h5>STYLE</h5>
                    <p id="pv-style">Modern</p>
                </div>
            </div>

            <div class="pv-desc-container">
                <p class="pv-desc-text" id="pv-desc">Description goes here.</p>
                <br>
                <a href="https://wa.me/919821313487" target="_blank" class="btn btn-whatsapp hover-target">Inquire About This Project</a>
            </div>

            <div class="section-header">
                <span class="section-subtitle">Gallery</span>
                <h2 class="section-title">More Views.</h2>
            </div>

            <div class="pv-gallery">
                <!-- Using the same image twice for demo purposes since we don't have extra unique images -->
                <div class="pv-gallery-item hover-target">
                    <img id="pv-gal-1" src="" alt="Detail 1">
                </div>
                <div class="pv-gallery-item hover-target">
                    <img id="pv-gal-2" src="" alt="Detail 2">
                </div>
            </div>

        </div>
        <div class="shared-footer">
            <div class="container">
                <h2 class="footer-big-title">Ready to start?</h2>
                <div class="footer-grid">
                    <div class="f-col"><h5>VISIT US</h5><p>Powai, Mumbai</p></div>
                    <div class="f-col"><h5>CONTACT</h5><a href="tel:+919821313487" class="phone-link hover-target">+91 98213 13487</a></div>
                </div>
                <p class="copyright">&copy; 2025 Rivaan Interiors.</p>
            </div>
        </div>
    </section>

    <!-- === TAB 5: CONTACT === -->
    <section id="contact" class="tab-section">
        <div class="container contact-wrap">
            <h1 class="footer-big-title" style="margin-bottom: 60px;">Let's create something<br>timeless.</h1>
            <div class="footer-grid">
                <div class="f-col"><h5>VISIT US</h5><p>Powai, Mumbai</p></div>
                <div class="f-col"><h5>CONTACT</h5><a href="tel:+919821313487" class="phone-link hover-target">+91 98213 13487</a><a href="mailto:hello@rivaaninteriors.com" class="hover-target">hello@rivaaninteriors.com</a></div>
                <div class="f-col"><h5>FOLLOW</h5><a href="https://www.instagram.com/rivaan.interiors/" target="_blank" class="hover-target">Instagram</a></div>
            </div>
            <a href="https://wa.me/919821313487" target="_blank" class="btn btn-whatsapp hover-target">Chat on WhatsApp</a>
            <p class="copyright">&copy; 2025 Rivaan Interiors.</p>
        </div>
    </section>

    <!-- === TAB 6: AUTHENTICATION === -->
    <section id="auth" class="tab-section">
        <div class="container auth-container">
            <div class="auth-card">
                <div id="login-form">
                    <h2 class="auth-title">Welcome Back.</h2>
                    <p class="auth-sub">Log in with your credentials.</p>
                    <div class="form-group"><input type="email" class="form-input hover-target" id="login-email" placeholder="Email Address"></div>
                    <div class="form-group"><input type="password" class="form-input hover-target" id="login-pass" placeholder="Password"></div>
                    <p id="login-error" class="error-msg">Error Message</p>
                    <button class="btn hover-target" id="login-btn" style="width:100%" onclick="handleLogin()">LOGIN</button>
                    <div class="auth-switch">First time here? <span onclick="toggleAuthMode()">Create an Account</span></div>
                </div>

                <div id="signup-form" class="hidden-form">
                    <h2 class="auth-title">Join Rivaan.</h2>
                    <p class="auth-sub">Sign up to access exclusive features.</p>
                    <div class="form-group"><input type="text" class="form-input hover-target" id="signup-name" placeholder="Full Name"></div>
                    <div class="form-group"><input type="email" class="form-input hover-target" id="signup-email" placeholder="Email Address"></div>
                    <div class="form-group"><input type="password" class="form-input hover-target" id="signup-pass" placeholder="Create Password"></div>
                    <div class="form-group"><input type="tel" class="form-input hover-target" id="signup-phone" placeholder="Mobile (e.g. 9876543210)" maxlength="10"></div>
                    <p id="signup-error" class="error-msg">Error Message</p>
                    <p id="signup-success" class="success-msg">Success! Creating account...</p>
                    <button class="btn hover-target" id="signup-btn" style="width:100%" onclick="handleSignup()">CREATE ACCOUNT</button>
                    <div class="auth-switch">Already have an account? <span onclick="toggleAuthMode()">Log In</span></div>
                </div>

                <div id="profile-view" class="hidden-form" style="text-align:center;">
                    <h2 class="auth-title" id="welcome-msg">Hi, User.</h2>
                    <p class="auth-sub">You are logged in.</p>
                    <button class="btn hover-target" onclick="switchTab('calculator')">Go to Calculator</button>
                    <br><br>
                    <button class="btn hover-target" style="border-color:#333; color:#666;" onclick="logoutUser()">Log Out</button>
                </div>
            </div>
        </div>
    </section>

</main>

<script>
    /* --- NEW FUNCTION TO OPEN PROJECT PAGE --- */
    function openProjectPage(title, loc, type, year, style, desc, imgSrc) {
        // Populate the Project View Section
        document.getElementById('pv-title').innerText = title;
        document.getElementById('pv-sub').innerText = type;
        document.getElementById('pv-loc').innerText = loc;
        document.getElementById('pv-year').innerText = year;
        document.getElementById('pv-type').innerText = type;
        document.getElementById('pv-style').innerText = style;
        document.getElementById('pv-desc').innerText = desc;
        
        // Main Image
        document.getElementById('pv-hero-img').src = imgSrc;
        
        // Gallery Images (Reusing main image for demo, in real scenario pass array)
        document.getElementById('pv-gal-1').src = imgSrc;
        document.getElementById('pv-gal-2').src = imgSrc;

        // Switch to the Project View Tab (Acts like a new page)
        switchTab('project-view');
        
        // Scroll to top of new section
        document.getElementById('project-view').scrollTop = 0;
    }

    /* --- INIT & FLUID BACKGROUND --- */
    gsap.registerPlugin(ScrollTrigger);
    const canvas = document.getElementById('canvas1');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    let particlesArray = [];
    const mouse = { x: null, y: null }

    window.addEventListener('resize', function(){ canvas.width = window.innerWidth; canvas.height = window.innerHeight; });
    window.addEventListener('mousemove', function(e){ mouse.x = e.x; mouse.y = e.y; for(let i=0; i<3; i++){ particlesArray.push(new Particle()); } });
    window.addEventListener('touchmove', function(e){ mouse.x = e.touches[0].clientX; mouse.y = e.touches[0].clientY; for(let i=0; i<3; i++){ particlesArray.push(new Particle()); } });

    class Particle {
        constructor(){
            this.x = mouse.x; this.y = mouse.y; this.size = Math.random() * 15 + 5; 
            this.speedX = Math.random() * 3 - 1.5; this.speedY = Math.random() * 3 - 1.5; this.color = 'hsl(0, 100%, 50%)'; 
        }
        update(){ this.x += this.speedX; this.y += this.speedY; if (this.size > 0.2) this.size -= 0.1; }
        draw(){ ctx.fillStyle = this.color; ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.shadowColor = '#ff0000'; ctx.shadowBlur = 25; ctx.fill(); ctx.shadowBlur = 0; }
    }
    function handleParticles(){
        for (let i = 0; i < particlesArray.length; i++){
            particlesArray[i].update(); particlesArray[i].draw();
            if (particlesArray[i].size <= 0.3){ particlesArray.splice(i, 1); i--; }
        }
    }
    function animateCanvas(){
        // UPDATED: Fill with the new Background Color #800703 (rgb(179, 11, 5)) with 0.2 opacity for trail effect
        ctx.fillStyle = 'rgba(179, 11, 5, 0.2)'; 
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        handleParticles(); requestAnimationFrame(animateCanvas);
    }
    animateCanvas();

    /* --- IMAGE ANIMATIONS --- */
    function initImageAnimations() {
        const targets = gsap.utils.toArray('.teaser-img, .about-img-wrap img, .p-img, .service-bg img, .furn-visual img, .pv-hero img');
        targets.forEach(img => {
            gsap.to(img, {
                scale: 1, filter: "grayscale(0%) brightness(1)", duration: 1.5, ease: "power2.out",
                scrollTrigger: { trigger: img.parentNode, scroller: ".tab-section.active-tab", start: "top 85%", toggleActions: "play none none reverse" }
            });
            gsap.fromTo(img, { y: -30 }, { y: 30, ease: "none", scrollTrigger: { trigger: img.parentNode, scroller: ".tab-section.active-tab", scrub: true } });
        });
    }

    /* --- AUTH LOGIC --- */
    const USER_KEY = 'rivaan_user'; let currentUser = null;
    function checkAuthStatus() {
        const savedUser = localStorage.getItem(USER_KEY);
        const btn = document.getElementById('header-auth-btn');
        if (savedUser) {
            currentUser = JSON.parse(savedUser);
            btn.innerHTML = `HI, ${currentUser.name.split(' ')[0]} <span style="font-size:10px">‚ñº</span>`;
            document.getElementById('login-form').classList.add('hidden-form');
            document.getElementById('signup-form').classList.add('hidden-form');
            document.getElementById('profile-view').classList.remove('hidden-form');
            document.getElementById('welcome-msg').innerText = `Hi, ${currentUser.name}.`;
        } else {
            currentUser = null; btn.innerHTML = 'LOGIN';
            document.getElementById('login-form').classList.remove('hidden-form');
            document.getElementById('signup-form').classList.add('hidden-form');
            document.getElementById('profile-view').classList.add('hidden-form');
        }
    }
    function toggleAuthMode() {
        const loginForm = document.getElementById('login-form'); const signupForm = document.getElementById('signup-form');
        if(loginForm.classList.contains('hidden-form')) {
            loginForm.classList.remove('hidden-form'); signupForm.classList.add('hidden-form');
            gsap.fromTo(loginForm, {opacity:0, x:-20}, {opacity:1, x:0, duration:0.3});
        } else {
            loginForm.classList.add('hidden-form'); signupForm.classList.remove('hidden-form');
            gsap.fromTo(signupForm, {opacity:0, x:20}, {opacity:1, x:0, duration:0.3});
        }
    }
    async function handleSignup() {
        const name = document.getElementById('signup-name').value; const email = document.getElementById('signup-email').value;
        const password = document.getElementById('signup-pass').value; const phone = document.getElementById('signup-phone').value;
        const errorMsg = document.getElementById('signup-error');
        if(!name || !email || !password || !phone) { errorMsg.innerText = "Please fill all fields"; errorMsg.style.display = 'block'; return; }
        const user = { name: name, email: email, phone: phone };
        localStorage.setItem(USER_KEY, JSON.stringify(user)); checkAuthStatus(); alert("Account Created Successfully!"); switchTab('calculator');
    }
    async function handleLogin() {
        const email = document.getElementById('login-email').value; const password = document.getElementById('login-pass').value;
        if(email && password) {
            let name = "Demo User"; const saved = JSON.parse(localStorage.getItem(USER_KEY));
            if(saved && saved.email === email) name = saved.name;
            const user = { name: name, email: email };
            localStorage.setItem(USER_KEY, JSON.stringify(user)); checkAuthStatus(); switchTab('calculator');
        } else {
            document.getElementById('login-error').innerText = "Please enter credentials"; document.getElementById('login-error').style.display = 'block';
        }
    }
    function logoutUser() { localStorage.removeItem(USER_KEY); checkAuthStatus(); document.querySelectorAll('.form-input').forEach(i => i.value = ''); }
    window.addEventListener('load', checkAuthStatus);

    /* --- CALCULATORS --- */
    let selectedBHK = null;
    function selectBHK(el, bhk) {
        let options = document.getElementById('bhk-options').children; for(let opt of options) opt.classList.remove('selected');
        el.classList.add('selected'); selectedBHK = bhk;
    }
    function toggleRoom(el) { el.classList.toggle('selected'); }
    function calculatePrice() {
        if (!currentUser) { alert("Please Login to view price estimates."); switchTab('auth'); return; }
        if(!selectedBHK) { alert("Please select a Configuration (BHK)."); return; }
        let basePrice = 0;
        switch(selectedBHK) { case '1BHK': basePrice = 800000; break; case '2BHK': basePrice = 1400000; break; case '3BHK': basePrice = 2200000; break; case '4BHK+': basePrice = 3500000; break; case 'Villa': basePrice = 5000000; break; }
        let variance = Math.floor(Math.random() * 200000); let final = basePrice + variance;
        let selectedRooms = document.querySelectorAll('#room-options .selected').length; final += (selectedRooms * 50000);
        let formatter = new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR', maximumSignificantDigits: 3 });
        document.getElementById('final-price').innerText = formatter.format(final) + "*";
        gsap.to('#price-result', { display: 'block', opacity: 1, duration: 1 });
        document.getElementById('calculator').scrollTo({ top: 1000, behavior: 'smooth' });
    }

    let selectedFurnType = null; let selectedFurnMat = null; let selectedFurnTier = null;
    const furnitureData = {
        'sofa': { base: 65000, img: 'https://images.unsplash.com/photo-1555041469-a586c61ea9bc?q=80&w=1200', materials: ['Velvet', 'Linen Blend', 'Genuine Leather', 'Boucl√© Fabric'] },
        'bed': { base: 95000, img: 'https://images.unsplash.com/photo-1505693416388-334343ce6206?q=80&w=1200', materials: ['Teak Wood', 'Fabric Upholstery', 'Leather Headboard', 'Cane Weave'] },
        'dining': { base: 55000, img: 'https://images.unsplash.com/photo-1617806118233-18e1de247200?q=80&w=1200', materials: ['Solid Wood', 'Italian Marble', 'Tempered Glass', 'Onyx Stone'] },
        'console': { base: 30000, img: 'https://images.unsplash.com/photo-1594242664539-72f3e82b7c61?q=80&w=1200', materials: ['Brass Inlay', 'Matte Duco', 'Veneer Finish', 'Mirror Cladding'] },
        'wardrobe': { base: 120000, img: 'https://images.unsplash.com/photo-1595428774223-ef52624120d2?q=80&w=1200', materials: ['Laminate', 'Acrylic', 'Back-painted Glass', 'PU Polish'] }
    };
    const tierMultipliers = { 'standard': 1.0, 'premium': 1.5, 'luxe': 2.2 };
    function selectFurnitureType(el, type) {
        let options = document.getElementById('furn-type-options').children; for(let opt of options) opt.classList.remove('selected');
        el.classList.add('selected'); selectedFurnType = type; selectedFurnMat = null; 
        const imgDisplay = document.getElementById('furn-img-display');
        gsap.to(imgDisplay, { opacity: 0, scale: 1.2, duration: 0.3, onComplete: () => { imgDisplay.src = furnitureData[type].img; gsap.to(imgDisplay, { opacity: 1, scale: 1, duration: 0.5 }); }});
        renderMaterials(type); document.getElementById('furn-price-result').style.display = 'none';
    }
    function renderMaterials(type) {
        const container = document.getElementById('dynamic-furn-materials'); container.innerHTML = ''; const mats = furnitureData[type].materials;
        mats.forEach(mat => { const div = document.createElement('div'); div.className = 'calc-option hover-target'; div.innerText = mat; div.onclick = function() { selectFurnitureMat(this, mat); }; container.appendChild(div); });
        gsap.from(container.children, { y: 10, opacity: 0, stagger: 0.1, duration: 0.4 });
    }
    function selectFurnitureMat(el, mat) { let options = document.getElementById('dynamic-furn-materials').children; for(let opt of options) opt.classList.remove('selected'); el.classList.add('selected'); selectedFurnMat = mat; }
    function selectFurnitureTier(el, tier) { let options = document.getElementById('furn-tier-options').children; for(let opt of options) opt.classList.remove('selected'); el.classList.add('selected'); selectedFurnTier = tier; }
    function calculateFurniturePrice() {
        if (!currentUser) { alert("Please Login to view price estimates."); switchTab('auth'); return; }
        if(!selectedFurnType) { alert("Please select an Item Type."); return; }
        if(!selectedFurnMat) { alert("Please select a Material."); return; }
        if(!selectedFurnTier) { alert("Please select a Finish Tier."); return; }
        let base = furnitureData[selectedFurnType].base; let multiplier = tierMultipliers[selectedFurnTier];
        let materialVariance = 0; if(selectedFurnMat.includes('Leather') || selectedFurnMat.includes('Marble') || selectedFurnMat.includes('Onyx') || selectedFurnMat.includes('PU')) { materialVariance = 15000; }
        let finalPrice = (base + materialVariance) * multiplier; let formatter = new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR', maximumSignificantDigits: 3 });
        document.getElementById('furn-final-price').innerText = formatter.format(finalPrice); gsap.to('#furn-price-result', { display: 'block', opacity: 1, duration: 1 });
    }

    /* --- UTILS & PRELOADER --- */
    function closeIntro() { const intro = document.getElementById('intro-modal'); gsap.to(intro, { opacity: 0, duration: 0.8, onComplete: () => intro.style.display = 'none' }); }
    const cursorDot = document.querySelector('.cursor-dot'); const cursorOutline = document.querySelector('.cursor-outline');
    if (window.matchMedia("(pointer: fine)").matches) {
        gsap.set(cursorDot, {xPercent: -50, yPercent: -50}); gsap.set(cursorOutline, {xPercent: -50, yPercent: -50});
        window.addEventListener('mousemove', (e) => { gsap.to(cursorDot, { duration: 0.1, x: e.clientX, y: e.clientY }); gsap.to(cursorOutline, { duration: 0.5, x: e.clientX, y: e.clientY, ease: "power2.out" }); });
        document.body.addEventListener('mouseover', (e) => { if (e.target.closest('.hover-target')) { document.body.classList.add('hovering'); } else { document.body.classList.remove('hovering'); } });
    }
    const tl = gsap.timeline(); gsap.set("body", { visibility: "visible" });
    tl.to(".loader-line", { width: "100%", duration: 1.2, ease: "power2.inOut" })
      .to(".loader-text", { y: -50, opacity: 0, duration: 0.5 })
      .to(".preloader", { yPercent: -100, duration: 1, ease: "expo.inOut" })
      .to("body", { opacity: 1, duration: 0.1 }, "-=1")
      .from(".hero-title span", { yPercent: 100, opacity: 0, duration: 1, stagger: 0.2, ease: "power3.out" }, "-=0.6")
      .to(".hero-sub", { y: 0, opacity: 1, duration: 1 }, "-=0.5")
      .call(() => { ScrollTrigger.refresh(); initImageAnimations(); });

    let currentTab = 'home'; let isAnimating = false;
    function switchTab(tabId) {
        if (currentTab === tabId || isAnimating) return; isAnimating = true;
        const currentSection = document.getElementById(currentTab); const nextSection = document.getElementById(tabId);
        document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
        const activeLink = document.querySelector(`.nav-link[onclick="switchTab('${tabId}')"]`); if(activeLink) activeLink.classList.add('active');
        gsap.to(currentSection, {
            opacity: 0, scale: 0.98, filter: "blur(5px)", duration: 0.5, ease: "power2.inOut",
            onComplete: () => {
                currentSection.classList.remove('active-tab'); currentSection.style.visibility = "hidden"; currentSection.scrollTop = 0; 
                nextSection.classList.add('active-tab'); gsap.set(nextSection, { opacity: 0, scale: 1.02, filter: "blur(10px)", visibility: "visible" });
                gsap.to(nextSection, { opacity: 1, scale: 1, filter: "blur(0px)", duration: 0.6, ease: "power2.out", onComplete: () => { currentTab = tabId; isAnimating = false; ScrollTrigger.refresh(); initImageAnimations(); } });
            }
        });
    }

    const mobileMenu = document.getElementById('mobileMenu');
    function toggleMobileMenu() { mobileMenu.classList.toggle('open'); }
    function mobileLinkClick(tabId) { toggleMobileMenu(); switchTab(tabId); }

    /* --- GESTURE CONTROL --- */
    if (window.innerWidth > 768) { 
        const videoElement = document.getElementById('input_video'); const gestureText = document.getElementById('gesture-text'); const introModal = document.getElementById('intro-modal');
        const hands = new Hands({locateFile: (file) => "https://cdn.jsdelivr.net/npm/@mediapipe/hands/" + file });
        hands.setOptions({ maxNumHands: 1, modelComplexity: 1, minDetectionConfidence: 0.7, minTrackingConfidence: 0.7 });
        hands.onResults((results) => {
            if (!results.multiHandLandmarks || results.multiHandLandmarks.length === 0) return;
            const lm = results.multiHandLandmarks[0];
            let indexUp = lm[8].y < lm[6].y; let middleUp = lm[12].y < lm[10].y; let thumbUp = lm[4].y < lm[3].y - 0.05;
            if (introModal.style.display !== 'none') { if (thumbUp) closeIntro(); return; }
            const activeTab = document.querySelector('.tab-section.active-tab');
            if (activeTab) {
                if (indexUp && !middleUp) { activeTab.scrollBy({ top: -15, behavior: 'auto' }); gestureText.innerText = "SCROLL UP"; }
                else if (indexUp && middleUp) { activeTab.scrollBy({ top: 15, behavior: 'auto' }); gestureText.innerText = "SCROLL DOWN"; }
                else { gestureText.innerText = "ACTIVE"; }
            }
        });
        const camera = new Camera(videoElement, { onFrame: async () => { await hands.send({image: videoElement}); }, width: 320, height: 240 }); camera.start();
    }
</script>

</body>
</html>
